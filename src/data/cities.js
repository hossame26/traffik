export const cities = [
  { slug: 'paris', name: 'Paris', region: 'Ile-de-France', population: '2.1M', businesses: '450K', lat: '48.8566', lng: '2.3522' },
  { slug: 'marseille', name: 'Marseille', region: 'Provence-Alpes-Cote d\'Azur', population: '870K', businesses: '120K', lat: '43.2965', lng: '5.3698' },
  { slug: 'lyon', name: 'Lyon', region: 'Auvergne-Rhone-Alpes', population: '516K', businesses: '85K', lat: '45.7640', lng: '4.8357' },
  { slug: 'toulouse', name: 'Toulouse', region: 'Occitanie', population: '493K', businesses: '75K', lat: '43.6047', lng: '1.4442' },
  { slug: 'nice', name: 'Nice', region: 'Provence-Alpes-Cote d\'Azur', population: '342K', businesses: '55K', lat: '43.7102', lng: '7.2620' },
  { slug: 'nantes', name: 'Nantes', region: 'Pays de la Loire', population: '318K', businesses: '52K', lat: '47.2184', lng: '-1.5536' },
  { slug: 'strasbourg', name: 'Strasbourg', region: 'Grand Est', population: '284K', businesses: '45K', lat: '48.5734', lng: '7.7521' },
  { slug: 'montpellier', name: 'Montpellier', region: 'Occitanie', population: '295K', businesses: '48K', lat: '43.6108', lng: '3.8767' },
  { slug: 'bordeaux', name: 'Bordeaux', region: 'Nouvelle-Aquitaine', population: '260K', businesses: '45K', lat: '44.8378', lng: '-0.5792' },
  { slug: 'lille', name: 'Lille', region: 'Hauts-de-France', population: '236K', businesses: '40K', lat: '50.6292', lng: '3.0573' },
  { slug: 'rennes', name: 'Rennes', region: 'Bretagne', population: '222K', businesses: '38K', lat: '48.1173', lng: '-1.6778' },
  { slug: 'reims', name: 'Reims', region: 'Grand Est', population: '183K', businesses: '28K', lat: '49.2583', lng: '4.0317' },
  { slug: 'le-havre', name: 'Le Havre', region: 'Normandie', population: '172K', businesses: '22K', lat: '49.4944', lng: '0.1079' },
  { slug: 'saint-etienne', name: 'Saint-Etienne', region: 'Auvergne-Rhone-Alpes', population: '174K', businesses: '25K', lat: '45.4397', lng: '4.3872' },
  { slug: 'toulon', name: 'Toulon', region: 'Provence-Alpes-Cote d\'Azur', population: '178K', businesses: '26K', lat: '43.1242', lng: '5.9280' },
  { slug: 'grenoble', name: 'Grenoble', region: 'Auvergne-Rhone-Alpes', population: '158K', businesses: '28K', lat: '45.1885', lng: '5.7245' },
  { slug: 'dijon', name: 'Dijon', region: 'Bourgogne-Franche-Comte', population: '159K', businesses: '25K', lat: '47.3220', lng: '5.0415' },
  { slug: 'angers', name: 'Angers', region: 'Pays de la Loire', population: '155K', businesses: '24K', lat: '47.4784', lng: '-0.5632' },
  { slug: 'nimes', name: 'Nimes', region: 'Occitanie', population: '151K', businesses: '22K', lat: '43.8367', lng: '4.3601' },
  { slug: 'villeurbanne', name: 'Villeurbanne', region: 'Auvergne-Rhone-Alpes', population: '152K', businesses: '20K', lat: '45.7668', lng: '4.8799' },
  { slug: 'clermont-ferrand', name: 'Clermont-Ferrand', region: 'Auvergne-Rhone-Alpes', population: '147K', businesses: '22K', lat: '45.7772', lng: '3.0870' },
  { slug: 'le-mans', name: 'Le Mans', region: 'Pays de la Loire', population: '145K', businesses: '20K', lat: '48.0061', lng: '0.1996' },
  { slug: 'aix-en-provence', name: 'Aix-en-Provence', region: 'Provence-Alpes-Cote d\'Azur', population: '145K', businesses: '25K', lat: '43.5297', lng: '5.4474' },
  { slug: 'brest', name: 'Brest', region: 'Bretagne', population: '139K', businesses: '18K', lat: '48.3904', lng: '-4.4861' },
  { slug: 'tours', name: 'Tours', region: 'Centre-Val de Loire', population: '136K', businesses: '22K', lat: '47.3941', lng: '0.6848' },
  { slug: 'amiens', name: 'Amiens', region: 'Hauts-de-France', population: '134K', businesses: '18K', lat: '49.8941', lng: '2.2958' },
  { slug: 'limoges', name: 'Limoges', region: 'Nouvelle-Aquitaine', population: '132K', businesses: '18K', lat: '45.8336', lng: '1.2611' },
  { slug: 'perpignan', name: 'Perpignan', region: 'Occitanie', population: '121K', businesses: '16K', lat: '42.6887', lng: '2.8948' },
  { slug: 'metz', name: 'Metz', region: 'Grand Est', population: '118K', businesses: '18K', lat: '49.1193', lng: '6.1757' },
  { slug: 'besancon', name: 'Besancon', region: 'Bourgogne-Franche-Comte', population: '117K', businesses: '16K', lat: '47.2378', lng: '6.0241' },
];

export const services = [
  { slug: 'creation-site-web', name: 'Creation de Site Web', keyword: 'creation site internet', price: '250\u20AC', parentPath: '/' },
  { slug: 'creation-site-shopify', name: 'Creation de Site Shopify', keyword: 'site shopify', price: '250\u20AC', parentPath: '/creation-site-shopify' },
  { slug: 'creation-site-wordpress', name: 'Creation de Site WordPress', keyword: 'site wordpress', price: '500\u20AC', parentPath: '/creation-site-wordpress' },
  { slug: 'developpement-react', name: 'Developpement React', keyword: 'developpeur react', price: '600\u20AC', parentPath: '/developpement-react-nextjs' },
  { slug: 'referencement-seo', name: 'Referencement SEO', keyword: 'agence seo', price: '400\u20AC/mois', parentPath: '/referencement-seo' },
];

export function findCity(slug) {
  return cities.find(c => c.slug === slug) || null;
}

export function findService(slug) {
  return services.find(s => s.slug === slug) || null;
}

/**
 * Parse a combined route param like "creation-site-shopify-lyon"
 * into { serviceSlug, citySlug } by matching against known service slugs.
 */
export function parseServiceCity(combinedSlug) {
  if (!combinedSlug) return { service: null, city: null };

  for (const svc of services) {
    if (combinedSlug.startsWith(svc.slug + '-')) {
      const citySlug = combinedSlug.slice(svc.slug.length + 1);
      const city = findCity(citySlug);
      if (city) {
        return { service: svc, city };
      }
    }
  }

  return { service: null, city: null };
}
